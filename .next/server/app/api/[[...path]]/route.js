"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/[[...path]]/route";
exports.ids = ["app/api/[[...path]]/route"];
exports.modules = {

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mongodb");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2F%5B%5B...path%5D%5D%2Froute&page=%2Fapi%2F%5B%5B...path%5D%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2F%5B%5B...path%5D%5D%2Froute.js&appDir=C%3A%5CUsers%5Cdaffa%5Cecommerce-production%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cdaffa%5Cecommerce-production&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2F%5B%5B...path%5D%5D%2Froute&page=%2Fapi%2F%5B%5B...path%5D%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2F%5B%5B...path%5D%5D%2Froute.js&appDir=C%3A%5CUsers%5Cdaffa%5Cecommerce-production%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cdaffa%5Cecommerce-production&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_daffa_ecommerce_production_app_api_path_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/[[...path]]/route.js */ \"(rsc)/./app/api/[[...path]]/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"standalone\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/[[...path]]/route\",\n        pathname: \"/api/[[...path]]\",\n        filename: \"route\",\n        bundlePath: \"app/api/[[...path]]/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\daffa\\\\ecommerce-production\\\\app\\\\api\\\\[[...path]]\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_daffa_ecommerce_production_app_api_path_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/[[...path]]/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkYlNUIlNUIuLi5wYXRoJTVEJTVEJTJGcm91dGUmcGFnZT0lMkZhcGklMkYlNUIlNUIuLi5wYXRoJTVEJTVEJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGJTVCJTVCLi4ucGF0aCU1RCU1RCUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNkYWZmYSU1Q2Vjb21tZXJjZS1wcm9kdWN0aW9uJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNkYWZmYSU1Q2Vjb21tZXJjZS1wcm9kdWN0aW9uJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PXN0YW5kYWxvbmUmcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDdUI7QUFDcEc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtbW9uZ28tdGVtcGxhdGUvP2JlMzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxcZGFmZmFcXFxcZWNvbW1lcmNlLXByb2R1Y3Rpb25cXFxcYXBwXFxcXGFwaVxcXFxbWy4uLnBhdGhdXVxcXFxyb3V0ZS5qc1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJzdGFuZGFsb25lXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL1tbLi4ucGF0aF1dL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvW1suLi5wYXRoXV1cIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL1tbLi4ucGF0aF1dL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcZGFmZmFcXFxcZWNvbW1lcmNlLXByb2R1Y3Rpb25cXFxcYXBwXFxcXGFwaVxcXFxbWy4uLnBhdGhdXVxcXFxyb3V0ZS5qc1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvW1suLi5wYXRoXV0vcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2F%5B%5B...path%5D%5D%2Froute&page=%2Fapi%2F%5B%5B...path%5D%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2F%5B%5B...path%5D%5D%2Froute.js&appDir=C%3A%5CUsers%5Cdaffa%5Cecommerce-production%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cdaffa%5Cecommerce-production&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/[[...path]]/route.js":
/*!**************************************!*\
  !*** ./app/api/[[...path]]/route.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/uuid/dist/esm-node/v4.js\");\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n\n\n\n\n\nconst MONGO_URL = process.env.MONGODB_URI || \"mongodb+srv://raiginsknight_db_user:Daffa12345678@e-commerce.7grouqd.mongodb.net/?appName=e-commerce\";\nconst DB_NAME = process.env.MONGODB_DB || \"e-commerce\";\nconst JWT_SECRET = process.env.JWT_SECRET || \"your-super-secret-jwt-key\";\nlet cachedClient = null;\nlet cachedDb = null;\nasync function connectToDatabase() {\n    if (cachedClient && cachedDb) {\n        return {\n            client: cachedClient,\n            db: cachedDb\n        };\n    }\n    const client = await mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient.connect(MONGO_URL);\n    const db = client.db(DB_NAME);\n    cachedClient = client;\n    cachedDb = db;\n    return {\n        client,\n        db\n    };\n}\n// Helper to verify JWT token\nfunction verifyToken(token) {\n    try {\n        return jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default().verify(token, JWT_SECRET);\n    } catch (error) {\n        return null;\n    }\n}\n// Helper to get user from token\nfunction getUserFromRequest(request) {\n    const authHeader = request.headers.get(\"authorization\");\n    if (!authHeader || !authHeader.startsWith(\"Bearer \")) {\n        return null;\n    }\n    const token = authHeader.substring(7);\n    return verifyToken(token);\n}\n// Initialize dummy products\nasync function initializeDummyProducts(db) {\n    const productsCollection = db.collection(\"products\");\n    const count = await productsCollection.countDocuments();\n    if (count === 0) {\n        const dummyProducts = [\n            {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                name: \"Wireless Bluetooth Headphones\",\n                description: \"Premium sound quality with active noise cancellation. 30-hour battery life.\",\n                price: 149.99,\n                category: \"Electronics\",\n                image: \"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=500&h=500&fit=crop\",\n                stock: 50,\n                rating: 4.5,\n                createdAt: new Date()\n            },\n            {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                name: \"Smart Watch Series 5\",\n                description: \"Track your fitness goals with advanced health monitoring features.\",\n                price: 299.99,\n                category: \"Electronics\",\n                image: \"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=500&h=500&fit=crop\",\n                stock: 30,\n                rating: 4.7,\n                createdAt: new Date()\n            },\n            {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                name: \"Laptop Backpack\",\n                description: \"Durable and stylish backpack with multiple compartments for your laptop and accessories.\",\n                price: 59.99,\n                category: \"Accessories\",\n                image: \"https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=500&h=500&fit=crop\",\n                stock: 100,\n                rating: 4.3,\n                createdAt: new Date()\n            },\n            {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                name: \"Wireless Mouse\",\n                description: \"Ergonomic design with precise tracking and long battery life.\",\n                price: 29.99,\n                category: \"Electronics\",\n                image: \"https://images.unsplash.com/photo-1527814050087-3793815479db?w=500&h=500&fit=crop\",\n                stock: 75,\n                rating: 4.4,\n                createdAt: new Date()\n            },\n            {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                name: \"Classic White T-Shirt\",\n                description: \"Premium cotton t-shirt, perfect for everyday wear.\",\n                price: 24.99,\n                category: \"Fashion\",\n                image: \"https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=500&h=500&fit=crop\",\n                stock: 200,\n                rating: 4.2,\n                createdAt: new Date()\n            },\n            {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                name: \"Running Shoes\",\n                description: \"Comfortable and lightweight running shoes with excellent cushioning.\",\n                price: 89.99,\n                category: \"Fashion\",\n                image: \"https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=500&h=500&fit=crop\",\n                stock: 60,\n                rating: 4.6,\n                createdAt: new Date()\n            },\n            {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                name: \"Stainless Steel Water Bottle\",\n                description: \"Insulated water bottle keeps drinks cold for 24 hours or hot for 12 hours.\",\n                price: 34.99,\n                category: \"Home & Kitchen\",\n                image: \"https://images.unsplash.com/photo-1602143407151-7111542de6e8?w=500&h=500&fit=crop\",\n                stock: 120,\n                rating: 4.5,\n                createdAt: new Date()\n            },\n            {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                name: \"Yoga Mat\",\n                description: \"Non-slip yoga mat with extra cushioning for comfort during workouts.\",\n                price: 39.99,\n                category: \"Sports\",\n                image: \"https://images.unsplash.com/photo-1601925260368-ae2f83cf8b7f?w=500&h=500&fit=crop\",\n                stock: 80,\n                rating: 4.4,\n                createdAt: new Date()\n            },\n            {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                name: \"Coffee Maker\",\n                description: \"Programmable coffee maker with 12-cup capacity and auto shut-off.\",\n                price: 79.99,\n                category: \"Home & Kitchen\",\n                image: \"https://images.unsplash.com/photo-1517668808822-9ebb02f2a0e6?w=500&h=500&fit=crop\",\n                stock: 40,\n                rating: 4.3,\n                createdAt: new Date()\n            },\n            {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                name: \"Desk Lamp\",\n                description: \"LED desk lamp with adjustable brightness and color temperature.\",\n                price: 44.99,\n                category: \"Home & Kitchen\",\n                image: \"https://images.unsplash.com/photo-1507473885765-e6ed057f782c?w=500&h=500&fit=crop\",\n                stock: 90,\n                rating: 4.6,\n                createdAt: new Date()\n            },\n            {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                name: \"Portable Speaker\",\n                description: \"Waterproof Bluetooth speaker with 360-degree sound.\",\n                price: 69.99,\n                category: \"Electronics\",\n                image: \"https://images.unsplash.com/photo-1608043152269-423dbba4e7e1?w=500&h=500&fit=crop\",\n                stock: 55,\n                rating: 4.5,\n                createdAt: new Date()\n            },\n            {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                name: \"Sunglasses\",\n                description: \"Polarized sunglasses with UV protection and stylish design.\",\n                price: 54.99,\n                category: \"Fashion\",\n                image: \"https://images.unsplash.com/photo-1572635196237-14b3f281503f?w=500&h=500&fit=crop\",\n                stock: 110,\n                rating: 4.4,\n                createdAt: new Date()\n            },\n            {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                name: \"Phone Case\",\n                description: \"Protective phone case with shock-absorbing corners.\",\n                price: 19.99,\n                category: \"Accessories\",\n                image: \"https://images.unsplash.com/photo-1556656793-08538906a9f8?w=500&h=500&fit=crop\",\n                stock: 150,\n                rating: 4.2,\n                createdAt: new Date()\n            },\n            {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                name: \"Gaming Keyboard\",\n                description: \"Mechanical gaming keyboard with RGB backlighting.\",\n                price: 129.99,\n                category: \"Electronics\",\n                image: \"https://images.unsplash.com/photo-1587829741301-dc798b83add3?w=500&h=500&fit=crop\",\n                stock: 35,\n                rating: 4.7,\n                createdAt: new Date()\n            },\n            {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                name: \"Hoodie\",\n                description: \"Comfortable cotton blend hoodie, perfect for casual wear.\",\n                price: 49.99,\n                category: \"Fashion\",\n                image: \"https://images.unsplash.com/photo-1556821840-3a63f95609a7?w=500&h=500&fit=crop\",\n                stock: 85,\n                rating: 4.5,\n                createdAt: new Date()\n            }\n        ];\n        await productsCollection.insertMany(dummyProducts);\n        console.log(\"Dummy products initialized\");\n    }\n}\nasync function GET(request, { params }) {\n    try {\n        const { db } = await connectToDatabase();\n        const path = params?.path || [];\n        const pathString = path.join(\"/\");\n        // Initialize dummy products\n        await initializeDummyProducts(db);\n        // Get all products\n        if (pathString === \"products\" || pathString === \"\") {\n            const productsCollection = db.collection(\"products\");\n            const products = await productsCollection.find({}).toArray();\n            return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n                success: true,\n                products\n            });\n        }\n        // Get single product\n        if (pathString.startsWith(\"products/\")) {\n            const productId = pathString.split(\"/\")[1];\n            const productsCollection = db.collection(\"products\");\n            const product = await productsCollection.findOne({\n                id: productId\n            });\n            if (!product) {\n                return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n                    success: false,\n                    error: \"Product not found\"\n                }, {\n                    status: 404\n                });\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n                success: true,\n                product\n            });\n        }\n        // Get user's cart\n        if (pathString === \"cart\") {\n            const user = getUserFromRequest(request);\n            if (!user) {\n                return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n                    success: false,\n                    error: \"Unauthorized\"\n                }, {\n                    status: 401\n                });\n            }\n            const cartsCollection = db.collection(\"carts\");\n            const cart = await cartsCollection.findOne({\n                userId: user.userId\n            });\n            if (!cart) {\n                return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n                    success: true,\n                    cart: {\n                        items: [],\n                        total: 0\n                    }\n                });\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n                success: true,\n                cart\n            });\n        }\n        // Get user's orders\n        if (pathString === \"orders\") {\n            const user = getUserFromRequest(request);\n            if (!user) {\n                return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n                    success: false,\n                    error: \"Unauthorized\"\n                }, {\n                    status: 401\n                });\n            }\n            const ordersCollection = db.collection(\"orders\");\n            const orders = await ordersCollection.find({\n                userId: user.userId\n            }).sort({\n                createdAt: -1\n            }).toArray();\n            return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n                success: true,\n                orders\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n            success: false,\n            error: \"Route not found\"\n        }, {\n            status: 404\n        });\n    } catch (error) {\n        console.error(\"GET Error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n            success: false,\n            error: error.message\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request, { params }) {\n    try {\n        const { db } = await connectToDatabase();\n        const path = params?.path || [];\n        const pathString = path.join(\"/\");\n        const body = await request.json();\n        // User registration\n        if (pathString === \"register\") {\n            const { email, password, name } = body;\n            if (!email || !password || !name) {\n                return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n                    success: false,\n                    error: \"All fields are required\"\n                }, {\n                    status: 400\n                });\n            }\n            const usersCollection = db.collection(\"users\");\n            const existingUser = await usersCollection.findOne({\n                email\n            });\n            if (existingUser) {\n                return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n                    success: false,\n                    error: \"Email already exists\"\n                }, {\n                    status: 400\n                });\n            }\n            const hashedPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().hash(password, 10);\n            const userId = (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n            const newUser = {\n                id: userId,\n                email,\n                password: hashedPassword,\n                name,\n                createdAt: new Date()\n            };\n            await usersCollection.insertOne(newUser);\n            const token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default().sign({\n                userId,\n                email\n            }, JWT_SECRET, {\n                expiresIn: \"7d\"\n            });\n            return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n                success: true,\n                message: \"Registration successful\",\n                token,\n                user: {\n                    id: userId,\n                    email,\n                    name\n                }\n            });\n        }\n        // User login\n        if (pathString === \"login\") {\n            const { email, password } = body;\n            if (!email || !password) {\n                return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n                    success: false,\n                    error: \"Email and password are required\"\n                }, {\n                    status: 400\n                });\n            }\n            const usersCollection = db.collection(\"users\");\n            const user = await usersCollection.findOne({\n                email\n            });\n            if (!user) {\n                return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n                    success: false,\n                    error: \"Invalid credentials\"\n                }, {\n                    status: 401\n                });\n            }\n            const isPasswordValid = await bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().compare(password, user.password);\n            if (!isPasswordValid) {\n                return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n                    success: false,\n                    error: \"Invalid credentials\"\n                }, {\n                    status: 401\n                });\n            }\n            const token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default().sign({\n                userId: user.id,\n                email: user.email\n            }, JWT_SECRET, {\n                expiresIn: \"7d\"\n            });\n            return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n                success: true,\n                message: \"Login successful\",\n                token,\n                user: {\n                    id: user.id,\n                    email: user.email,\n                    name: user.name\n                }\n            });\n        }\n        // Add to cart\n        if (pathString === \"cart\") {\n            const user = getUserFromRequest(request);\n            if (!user) {\n                return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n                    success: false,\n                    error: \"Unauthorized\"\n                }, {\n                    status: 401\n                });\n            }\n            const { productId, quantity = 1 } = body;\n            if (!productId) {\n                return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n                    success: false,\n                    error: \"Product ID is required\"\n                }, {\n                    status: 400\n                });\n            }\n            // Get product details\n            const productsCollection = db.collection(\"products\");\n            const product = await productsCollection.findOne({\n                id: productId\n            });\n            if (!product) {\n                return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n                    success: false,\n                    error: \"Product not found\"\n                }, {\n                    status: 404\n                });\n            }\n            const cartsCollection = db.collection(\"carts\");\n            let cart = await cartsCollection.findOne({\n                userId: user.userId\n            });\n            if (!cart) {\n                cart = {\n                    userId: user.userId,\n                    items: [],\n                    total: 0,\n                    updatedAt: new Date()\n                };\n            }\n            const existingItemIndex = cart.items.findIndex((item)=>item.productId === productId);\n            if (existingItemIndex > -1) {\n                cart.items[existingItemIndex].quantity += quantity;\n            } else {\n                cart.items.push({\n                    productId,\n                    name: product.name,\n                    price: product.price,\n                    image: product.image,\n                    quantity\n                });\n            }\n            cart.total = cart.items.reduce((sum, item)=>sum + item.price * item.quantity, 0);\n            cart.updatedAt = new Date();\n            await cartsCollection.updateOne({\n                userId: user.userId\n            }, {\n                $set: cart\n            }, {\n                upsert: true\n            });\n            return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n                success: true,\n                message: \"Added to cart\",\n                cart\n            });\n        }\n        // Place order\n        if (pathString === \"orders\") {\n            const user = getUserFromRequest(request);\n            if (!user) {\n                return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n                    success: false,\n                    error: \"Unauthorized\"\n                }, {\n                    status: 401\n                });\n            }\n            const { shippingAddress, paymentMethod } = body;\n            if (!shippingAddress || !paymentMethod) {\n                return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n                    success: false,\n                    error: \"Shipping address and payment method are required\"\n                }, {\n                    status: 400\n                });\n            }\n            // Get cart\n            const cartsCollection = db.collection(\"carts\");\n            const cart = await cartsCollection.findOne({\n                userId: user.userId\n            });\n            if (!cart || cart.items.length === 0) {\n                return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n                    success: false,\n                    error: \"Cart is empty\"\n                }, {\n                    status: 400\n                });\n            }\n            // Create order\n            const ordersCollection = db.collection(\"orders\");\n            const orderId = (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n            const order = {\n                id: orderId,\n                userId: user.userId,\n                items: cart.items,\n                total: cart.total,\n                shippingAddress,\n                paymentMethod,\n                status: \"pending\",\n                createdAt: new Date()\n            };\n            await ordersCollection.insertOne(order);\n            // Clear cart\n            await cartsCollection.deleteOne({\n                userId: user.userId\n            });\n            return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n                success: true,\n                message: \"Order placed successfully\",\n                order\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n            success: false,\n            error: \"Route not found\"\n        }, {\n            status: 404\n        });\n    } catch (error) {\n        console.error(\"POST Error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n            success: false,\n            error: error.message\n        }, {\n            status: 500\n        });\n    }\n}\nasync function PUT(request, { params }) {\n    try {\n        const { db } = await connectToDatabase();\n        const path = params?.path || [];\n        const pathString = path.join(\"/\");\n        const body = await request.json();\n        // Update cart item quantity\n        if (pathString === \"cart\") {\n            const user = getUserFromRequest(request);\n            if (!user) {\n                return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n                    success: false,\n                    error: \"Unauthorized\"\n                }, {\n                    status: 401\n                });\n            }\n            const { productId, quantity } = body;\n            if (!productId || quantity === undefined) {\n                return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n                    success: false,\n                    error: \"Product ID and quantity are required\"\n                }, {\n                    status: 400\n                });\n            }\n            const cartsCollection = db.collection(\"carts\");\n            const cart = await cartsCollection.findOne({\n                userId: user.userId\n            });\n            if (!cart) {\n                return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n                    success: false,\n                    error: \"Cart not found\"\n                }, {\n                    status: 404\n                });\n            }\n            const itemIndex = cart.items.findIndex((item)=>item.productId === productId);\n            if (itemIndex === -1) {\n                return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n                    success: false,\n                    error: \"Item not found in cart\"\n                }, {\n                    status: 404\n                });\n            }\n            if (quantity <= 0) {\n                cart.items.splice(itemIndex, 1);\n            } else {\n                cart.items[itemIndex].quantity = quantity;\n            }\n            cart.total = cart.items.reduce((sum, item)=>sum + item.price * item.quantity, 0);\n            cart.updatedAt = new Date();\n            await cartsCollection.updateOne({\n                userId: user.userId\n            }, {\n                $set: cart\n            });\n            return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n                success: true,\n                message: \"Cart updated\",\n                cart\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n            success: false,\n            error: \"Route not found\"\n        }, {\n            status: 404\n        });\n    } catch (error) {\n        console.error(\"PUT Error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n            success: false,\n            error: error.message\n        }, {\n            status: 500\n        });\n    }\n}\nasync function DELETE(request, { params }) {\n    try {\n        const { db } = await connectToDatabase();\n        const path = params?.path || [];\n        const pathString = path.join(\"/\");\n        // Remove item from cart\n        if (pathString.startsWith(\"cart/\")) {\n            const user = getUserFromRequest(request);\n            if (!user) {\n                return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n                    success: false,\n                    error: \"Unauthorized\"\n                }, {\n                    status: 401\n                });\n            }\n            const productId = pathString.split(\"/\")[1];\n            const cartsCollection = db.collection(\"carts\");\n            const cart = await cartsCollection.findOne({\n                userId: user.userId\n            });\n            if (!cart) {\n                return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n                    success: false,\n                    error: \"Cart not found\"\n                }, {\n                    status: 404\n                });\n            }\n            cart.items = cart.items.filter((item)=>item.productId !== productId);\n            cart.total = cart.items.reduce((sum, item)=>sum + item.price * item.quantity, 0);\n            cart.updatedAt = new Date();\n            await cartsCollection.updateOne({\n                userId: user.userId\n            }, {\n                $set: cart\n            });\n            return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n                success: true,\n                message: \"Item removed from cart\",\n                cart\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n            success: false,\n            error: \"Route not found\"\n        }, {\n            status: 404\n        });\n    } catch (error) {\n        console.error(\"DELETE Error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json({\n            success: false,\n            error: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUloQyxnREFBTUE7Z0JBQ1ZpQyxNQUFNO2dCQUNOQyxhQUFhO2dCQUNiQyxPQUFPO2dCQUNQQyxVQUFVO2dCQUNWQyxPQUFPO2dCQUNQQyxPQUFPO2dCQUNQQyxRQUFRO2dCQUNSQyxXQUFXLElBQUlDO1lBQ2pCO1lBQ0E7Z0JBQ0VULElBQUloQyxnREFBTUE7Z0JBQ1ZpQyxNQUFNO2dCQUNOQyxhQUFhO2dCQUNiQyxPQUFPO2dCQUNQQyxVQUFVO2dCQUNWQyxPQUFPO2dCQUNQQyxPQUFPO2dCQUNQQyxRQUFRO2dCQUNSQyxXQUFXLElBQUlDO1lBQ2pCO1lBQ0E7Z0JBQ0VULElBQUloQyxnREFBTUE7Z0JBQ1ZpQyxNQUFNO2dCQUNOQyxhQUFhO2dCQUNiQyxPQUFPO2dCQUNQQyxVQUFVO2dCQUNWQyxPQUFPO2dCQUNQQyxPQUFPO2dCQUNQQyxRQUFRO2dCQUNSQyxXQUFXLElBQUlDO1lBQ2pCO1lBQ0E7Z0JBQ0VULElBQUloQyxnREFBTUE7Z0JBQ1ZpQyxNQUFNO2dCQUNOQyxhQUFhO2dCQUNiQyxPQUFPO2dCQUNQQyxVQUFVO2dCQUNWQyxPQUFPO2dCQUNQQyxPQUFPO2dCQUNQQyxRQUFRO2dCQUNSQyxXQUFXLElBQUlDO1lBQ2pCO1lBQ0E7Z0JBQ0VULElBQUloQyxnREFBTUE7Z0JBQ1ZpQyxNQUFNO2dCQUNOQyxhQUFhO2dCQUNiQyxPQUFPO2dCQUNQQyxVQUFVO2dCQUNWQyxPQUFPO2dCQUNQQyxPQUFPO2dCQUNQQyxRQUFRO2dCQUNSQyxXQUFXLElBQUlDO1lBQ2pCO1lBQ0E7Z0JBQ0VULElBQUloQyxnREFBTUE7Z0JBQ1ZpQyxNQUFNO2dCQUNOQyxhQUFhO2dCQUNiQyxPQUFPO2dCQUNQQyxVQUFVO2dCQUNWQyxPQUFPO2dCQUNQQyxPQUFPO2dCQUNQQyxRQUFRO2dCQUNSQyxXQUFXLElBQUlDO1lBQ2pCO1lBQ0E7Z0JBQ0VULElBQUloQyxnREFBTUE7Z0JBQ1ZpQyxNQUFNO2dCQUNOQyxhQUFhO2dCQUNiQyxPQUFPO2dCQUNQQyxVQUFVO2dCQUNWQyxPQUFPO2dCQUNQQyxPQUFPO2dCQUNQ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QUksQ0FBQztZQUFFQyxTQUFTO1lBQU9wQyxPQUFPQSxNQUFNbUQsT0FBTztRQUFDLEdBQUc7WUFBRVYsUUFBUTtRQUFJO0lBQ25GO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtbW9uZ28tdGVtcGxhdGUvLi9hcHAvYXBpL1tbLi4ucGF0aF1dL3JvdXRlLmpzPzQ4ZjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTW9uZ29DbGllbnQgfSBmcm9tICdtb25nb2RiJztcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5cbmNvbnN0IE1PTkdPX1VSTCA9IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJIHx8ICdtb25nb2RiK3NydjovL3JhaWdpbnNrbmlnaHRfZGJfdXNlcjpEYWZmYTEyMzQ1Njc4QGUtY29tbWVyY2UuN2dyb3VxZC5tb25nb2RiLm5ldC8/YXBwTmFtZT1lLWNvbW1lcmNlJztcbmNvbnN0IERCX05BTUUgPSBwcm9jZXNzLmVudi5NT05HT0RCX0RCIHx8ICdlLWNvbW1lcmNlJztcbmNvbnN0IEpXVF9TRUNSRVQgPSBwcm9jZXNzLmVudi5KV1RfU0VDUkVUIHx8ICd5b3VyLXN1cGVyLXNlY3JldC1qd3Qta2V5JztcblxubGV0IGNhY2hlZENsaWVudCA9IG51bGw7XG5sZXQgY2FjaGVkRGIgPSBudWxsO1xuXG5hc3luYyBmdW5jdGlvbiBjb25uZWN0VG9EYXRhYmFzZSgpIHtcbiAgaWYgKGNhY2hlZENsaWVudCAmJiBjYWNoZWREYikge1xuICAgIHJldHVybiB7IGNsaWVudDogY2FjaGVkQ2xpZW50LCBkYjogY2FjaGVkRGIgfTtcbiAgfVxuXG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IE1vbmdvQ2xpZW50LmNvbm5lY3QoTU9OR09fVVJMKTtcbiAgY29uc3QgZGIgPSBjbGllbnQuZGIoREJfTkFNRSk7XG5cbiAgY2FjaGVkQ2xpZW50ID0gY2xpZW50O1xuICBjYWNoZWREYiA9IGRiO1xuXG4gIHJldHVybiB7IGNsaWVudCwgZGIgfTtcbn1cblxuLy8gSGVscGVyIHRvIHZlcmlmeSBKV1QgdG9rZW5cbmZ1bmN0aW9uIHZlcmlmeVRva2VuKHRva2VuKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGp3dC52ZXJpZnkodG9rZW4sIEpXVF9TRUNSRVQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8vIEhlbHBlciB0byBnZXQgdXNlciBmcm9tIHRva2VuXG5mdW5jdGlvbiBnZXRVc2VyRnJvbVJlcXVlc3QocmVxdWVzdCkge1xuICBjb25zdCBhdXRoSGVhZGVyID0gcmVxdWVzdC5oZWFkZXJzLmdldCgnYXV0aG9yaXphdGlvbicpO1xuICBpZiAoIWF1dGhIZWFkZXIgfHwgIWF1dGhIZWFkZXIuc3RhcnRzV2l0aCgnQmVhcmVyICcpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgdG9rZW4gPSBhdXRoSGVhZGVyLnN1YnN0cmluZyg3KTtcbiAgcmV0dXJuIHZlcmlmeVRva2VuKHRva2VuKTtcbn1cblxuLy8gSW5pdGlhbGl6ZSBkdW1teSBwcm9kdWN0c1xuYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZUR1bW15UHJvZHVjdHMoZGIpIHtcbiAgY29uc3QgcHJvZHVjdHNDb2xsZWN0aW9uID0gZGIuY29sbGVjdGlvbigncHJvZHVjdHMnKTtcbiAgY29uc3QgY291bnQgPSBhd2FpdCBwcm9kdWN0c0NvbGxlY3Rpb24uY291bnREb2N1bWVudHMoKTtcbiAgXG4gIGlmIChjb3VudCA9PT0gMCkge1xuICAgIGNvbnN0IGR1bW15UHJvZHVjdHMgPSBbXG4gICAgICB7XG4gICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgbmFtZTogJ1dpcmVsZXNzIEJsdWV0b290aCBIZWFkcGhvbmVzJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdQcmVtaXVtIHNvdW5kIHF1YWxpdHkgd2l0aCBhY3RpdmUgbm9pc2UgY2FuY2VsbGF0aW9uLiAzMC1ob3VyIGJhdHRlcnkgbGlmZS4nLFxuICAgICAgICBwcmljZTogMTQ5Ljk5LFxuICAgICAgICBjYXRlZ29yeTogJ0VsZWN0cm9uaWNzJyxcbiAgICAgICAgaW1hZ2U6ICdodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTUwNTc0MDQyMDkyOC01ZTU2MGMwNmQzMGU/dz01MDAmaD01MDAmZml0PWNyb3AnLFxuICAgICAgICBzdG9jazogNTAsXG4gICAgICAgIHJhdGluZzogNC41LFxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKClcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgbmFtZTogJ1NtYXJ0IFdhdGNoIFNlcmllcyA1JyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdUcmFjayB5b3VyIGZpdG5lc3MgZ29hbHMgd2l0aCBhZHZhbmNlZCBoZWFsdGggbW9uaXRvcmluZyBmZWF0dXJlcy4nLFxuICAgICAgICBwcmljZTogMjk5Ljk5LFxuICAgICAgICBjYXRlZ29yeTogJ0VsZWN0cm9uaWNzJyxcbiAgICAgICAgaW1hZ2U6ICdodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTUyMzI3NTMzNTY4NC0zNzg5OGI2YmFmMzA/dz01MDAmaD01MDAmZml0PWNyb3AnLFxuICAgICAgICBzdG9jazogMzAsXG4gICAgICAgIHJhdGluZzogNC43LFxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKClcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgbmFtZTogJ0xhcHRvcCBCYWNrcGFjaycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnRHVyYWJsZSBhbmQgc3R5bGlzaCBiYWNrcGFjayB3aXRoIG11bHRpcGxlIGNvbXBhcnRtZW50cyBmb3IgeW91ciBsYXB0b3AgYW5kIGFjY2Vzc29yaWVzLicsXG4gICAgICAgIHByaWNlOiA1OS45OSxcbiAgICAgICAgY2F0ZWdvcnk6ICdBY2Nlc3NvcmllcycsXG4gICAgICAgIGltYWdlOiAnaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1NTMwNjI0MDctOThlZWI2NGM2YTYyP3c9NTAwJmg9NTAwJmZpdD1jcm9wJyxcbiAgICAgICAgc3RvY2s6IDEwMCxcbiAgICAgICAgcmF0aW5nOiA0LjMsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6IHV1aWR2NCgpLFxuICAgICAgICBuYW1lOiAnV2lyZWxlc3MgTW91c2UnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0VyZ29ub21pYyBkZXNpZ24gd2l0aCBwcmVjaXNlIHRyYWNraW5nIGFuZCBsb25nIGJhdHRlcnkgbGlmZS4nLFxuICAgICAgICBwcmljZTogMjkuOTksXG4gICAgICAgIGNhdGVnb3J5OiAnRWxlY3Ryb25pY3MnLFxuICAgICAgICBpbWFnZTogJ2h0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTI3ODE0MDUwMDg3LTM3OTM4MTU0NzlkYj93PTUwMCZoPTUwMCZmaXQ9Y3JvcCcsXG4gICAgICAgIHN0b2NrOiA3NSxcbiAgICAgICAgcmF0aW5nOiA0LjQsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6IHV1aWR2NCgpLFxuICAgICAgICBuYW1lOiAnQ2xhc3NpYyBXaGl0ZSBULVNoaXJ0JyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdQcmVtaXVtIGNvdHRvbiB0LXNoaXJ0LCBwZXJmZWN0IGZvciBldmVyeWRheSB3ZWFyLicsXG4gICAgICAgIHByaWNlOiAyNC45OSxcbiAgICAgICAgY2F0ZWdvcnk6ICdGYXNoaW9uJyxcbiAgICAgICAgaW1hZ2U6ICdodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTUyMTU3MjE2MzQ3NC02ODY0ZjljZjE3YWI/dz01MDAmaD01MDAmZml0PWNyb3AnLFxuICAgICAgICBzdG9jazogMjAwLFxuICAgICAgICByYXRpbmc6IDQuMixcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogdXVpZHY0KCksXG4gICAgICAgIG5hbWU6ICdSdW5uaW5nIFNob2VzJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdDb21mb3J0YWJsZSBhbmQgbGlnaHR3ZWlnaHQgcnVubmluZyBzaG9lcyB3aXRoIGV4Y2VsbGVudCBjdXNoaW9uaW5nLicsXG4gICAgICAgIHByaWNlOiA4OS45OSxcbiAgICAgICAgY2F0ZWdvcnk6ICdGYXNoaW9uJyxcbiAgICAgICAgaW1hZ2U6ICdodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTU0MjI5MTAyNi03ZWVjMjY0YzI3ZmY/dz01MDAmaD01MDAmZml0PWNyb3AnLFxuICAgICAgICBzdG9jazogNjAsXG4gICAgICAgIHJhdGluZzogNC42LFxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKClcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgbmFtZTogJ1N0YWlubGVzcyBTdGVlbCBXYXRlciBCb3R0bGUnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0luc3VsYXRlZCB3YXRlciBib3R0bGUga2VlcHMgZHJpbmtzIGNvbGQgZm9yIDI0IGhvdXJzIG9yIGhvdCBmb3IgMTIgaG91cnMuJyxcbiAgICAgICAgcHJpY2U6IDM0Ljk5LFxuICAgICAgICBjYXRlZ29yeTogJ0hvbWUgJiBLaXRjaGVuJyxcbiAgICAgICAgaW1hZ2U6ICdodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTYwMjE0MzQwNzE1MS03MTExNTQyZGU2ZTg/dz01MDAmaD01MDAmZml0PWNyb3AnLFxuICAgICAgICBzdG9jazogMTIwLFxuICAgICAgICByYXRpbmc6IDQuNSxcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogdXVpZHY0KCksXG4gICAgICAgIG5hbWU6ICdZb2dhIE1hdCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnTm9uLXNsaXAgeW9nYSBtYXQgd2l0aCBleHRyYSBjdXNoaW9uaW5nIGZvciBjb21mb3J0IGR1cmluZyB3b3Jrb3V0cy4nLFxuICAgICAgICBwcmljZTogMzkuOTksXG4gICAgICAgIGNhdGVnb3J5OiAnU3BvcnRzJyxcbiAgICAgICAgaW1hZ2U6ICdodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTYwMTkyNTI2MDM2OC1hZTJmODNjZjhiN2Y/dz01MDAmaD01MDAmZml0PWNyb3AnLFxuICAgICAgICBzdG9jazogODAsXG4gICAgICAgIHJhdGluZzogNC40LFxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKClcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgbmFtZTogJ0NvZmZlZSBNYWtlcicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUHJvZ3JhbW1hYmxlIGNvZmZlZSBtYWtlciB3aXRoIDEyLWN1cCBjYXBhY2l0eSBhbmQgYXV0byBzaHV0LW9mZi4nLFxuICAgICAgICBwcmljZTogNzkuOTksXG4gICAgICAgIGNhdGVnb3J5OiAnSG9tZSAmIEtpdGNoZW4nLFxuICAgICAgICBpbWFnZTogJ2h0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTE3NjY4ODA4ODIyLTllYmIwMmYyYTBlNj93PTUwMCZoPTUwMCZmaXQ9Y3JvcCcsXG4gICAgICAgIHN0b2NrOiA0MCxcbiAgICAgICAgcmF0aW5nOiA0LjMsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6IHV1aWR2NCgpLFxuICAgICAgICBuYW1lOiAnRGVzayBMYW1wJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdMRUQgZGVzayBsYW1wIHdpdGggYWRqdXN0YWJsZSBicmlnaHRuZXNzIGFuZCBjb2xvciB0ZW1wZXJhdHVyZS4nLFxuICAgICAgICBwcmljZTogNDQuOTksXG4gICAgICAgIGNhdGVnb3J5OiAnSG9tZSAmIEtpdGNoZW4nLFxuICAgICAgICBpbWFnZTogJ2h0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTA3NDczODg1NzY1LWU2ZWQwNTdmNzgyYz93PTUwMCZoPTUwMCZmaXQ9Y3JvcCcsXG4gICAgICAgIHN0b2NrOiA5MCxcbiAgICAgICAgcmF0aW5nOiA0LjYsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6IHV1aWR2NCgpLFxuICAgICAgICBuYW1lOiAnUG9ydGFibGUgU3BlYWtlcicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnV2F0ZXJwcm9vZiBCbHVldG9vdGggc3BlYWtlciB3aXRoIDM2MC1kZWdyZWUgc291bmQuJyxcbiAgICAgICAgcHJpY2U6IDY5Ljk5LFxuICAgICAgICBjYXRlZ29yeTogJ0VsZWN0cm9uaWNzJyxcbiAgICAgICAgaW1hZ2U6ICdodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTYwODA0MzE1MjI2OS00MjNkYmJhNGU3ZTE/dz01MDAmaD01MDAmZml0PWNyb3AnLFxuICAgICAgICBzdG9jazogNTUsXG4gICAgICAgIHJhdGluZzogNC41LFxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKClcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgbmFtZTogJ1N1bmdsYXNzZXMnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1BvbGFyaXplZCBzdW5nbGFzc2VzIHdpdGggVVYgcHJvdGVjdGlvbiBhbmQgc3R5bGlzaCBkZXNpZ24uJyxcbiAgICAgICAgcHJpY2U6IDU0Ljk5LFxuICAgICAgICBjYXRlZ29yeTogJ0Zhc2hpb24nLFxuICAgICAgICBpbWFnZTogJ2h0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTcyNjM1MTk2MjM3LTE0YjNmMjgxNTAzZj93PTUwMCZoPTUwMCZmaXQ9Y3JvcCcsXG4gICAgICAgIHN0b2NrOiAxMTAsXG4gICAgICAgIHJhdGluZzogNC40LFxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKClcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgbmFtZTogJ1Bob25lIENhc2UnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1Byb3RlY3RpdmUgcGhvbmUgY2FzZSB3aXRoIHNob2NrLWFic29yYmluZyBjb3JuZXJzLicsXG4gICAgICAgIHByaWNlOiAxOS45OSxcbiAgICAgICAgY2F0ZWdvcnk6ICdBY2Nlc3NvcmllcycsXG4gICAgICAgIGltYWdlOiAnaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1NTY2NTY3OTMtMDg1Mzg5MDZhOWY4P3c9NTAwJmg9NTAwJmZpdD1jcm9wJyxcbiAgICAgICAgc3RvY2s6IDE1MCxcbiAgICAgICAgcmF0aW5nOiA0LjIsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6IHV1aWR2NCgpLFxuICAgICAgICBuYW1lOiAnR2FtaW5nIEtleWJvYXJkJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdNZWNoYW5pY2FsIGdhbWluZyBrZXlib2FyZCB3aXRoIFJHQiBiYWNrbGlnaHRpbmcuJyxcbiAgICAgICAgcHJpY2U6IDEyOS45OSxcbiAgICAgICAgY2F0ZWdvcnk6ICdFbGVjdHJvbmljcycsXG4gICAgICAgIGltYWdlOiAnaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1ODc4Mjk3NDEzMDEtZGM3OThiODNhZGQzP3c9NTAwJmg9NTAwJmZpdD1jcm9wJyxcbiAgICAgICAgc3RvY2s6IDM1LFxuICAgICAgICByYXRpbmc6IDQuNyxcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogdXVpZHY0KCksXG4gICAgICAgIG5hbWU6ICdIb29kaWUnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0NvbWZvcnRhYmxlIGNvdHRvbiBibGVuZCBob29kaWUsIHBlcmZlY3QgZm9yIGNhc3VhbCB3ZWFyLicsXG4gICAgICAgIHByaWNlOiA0OS45OSxcbiAgICAgICAgY2F0ZWdvcnk6ICdGYXNoaW9uJyxcbiAgICAgICAgaW1hZ2U6ICdodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTU1NjgyMTg0MC0zYTYzZjk1NjA5YTc/dz01MDAmaD01MDAmZml0PWNyb3AnLFxuICAgICAgICBzdG9jazogODUsXG4gICAgICAgIHJhdGluZzogNC41LFxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKClcbiAgICAgIH1cbiAgICBdO1xuXG4gICAgYXdhaXQgcHJvZHVjdHNDb2xsZWN0aW9uLmluc2VydE1hbnkoZHVtbXlQcm9kdWN0cyk7XG4gICAgY29uc29sZS5sb2coJ0R1bW15IHByb2R1Y3RzIGluaXRpYWxpemVkJyk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0LCB7IHBhcmFtcyB9KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBkYiB9ID0gYXdhaXQgY29ubmVjdFRvRGF0YWJhc2UoKTtcbiAgICBjb25zdCBwYXRoID0gcGFyYW1zPy5wYXRoIHx8IFtdO1xuICAgIGNvbnN0IHBhdGhTdHJpbmcgPSBwYXRoLmpvaW4oJy8nKTtcblxuICAgIC8vIEluaXRpYWxpemUgZHVtbXkgcHJvZHVjdHNcbiAgICBhd2FpdCBpbml0aWFsaXplRHVtbXlQcm9kdWN0cyhkYik7XG5cbiAgICAvLyBHZXQgYWxsIHByb2R1Y3RzXG4gICAgaWYgKHBhdGhTdHJpbmcgPT09ICdwcm9kdWN0cycgfHwgcGF0aFN0cmluZyA9PT0gJycpIHtcbiAgICAgIGNvbnN0IHByb2R1Y3RzQ29sbGVjdGlvbiA9IGRiLmNvbGxlY3Rpb24oJ3Byb2R1Y3RzJyk7XG4gICAgICBjb25zdCBwcm9kdWN0cyA9IGF3YWl0IHByb2R1Y3RzQ29sbGVjdGlvbi5maW5kKHt9KS50b0FycmF5KCk7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBwcm9kdWN0cyB9KTtcbiAgICB9XG5cbiAgICAvLyBHZXQgc2luZ2xlIHByb2R1Y3RcbiAgICBpZiAocGF0aFN0cmluZy5zdGFydHNXaXRoKCdwcm9kdWN0cy8nKSkge1xuICAgICAgY29uc3QgcHJvZHVjdElkID0gcGF0aFN0cmluZy5zcGxpdCgnLycpWzFdO1xuICAgICAgY29uc3QgcHJvZHVjdHNDb2xsZWN0aW9uID0gZGIuY29sbGVjdGlvbigncHJvZHVjdHMnKTtcbiAgICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0c0NvbGxlY3Rpb24uZmluZE9uZSh7IGlkOiBwcm9kdWN0SWQgfSk7XG4gICAgICBcbiAgICAgIGlmICghcHJvZHVjdCkge1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdQcm9kdWN0IG5vdCBmb3VuZCcgfSwgeyBzdGF0dXM6IDQwNCB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgcHJvZHVjdCB9KTtcbiAgICB9XG5cbiAgICAvLyBHZXQgdXNlcidzIGNhcnRcbiAgICBpZiAocGF0aFN0cmluZyA9PT0gJ2NhcnQnKSB7XG4gICAgICBjb25zdCB1c2VyID0gZ2V0VXNlckZyb21SZXF1ZXN0KHJlcXVlc3QpO1xuICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSwgeyBzdGF0dXM6IDQwMSB9KTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgY2FydHNDb2xsZWN0aW9uID0gZGIuY29sbGVjdGlvbignY2FydHMnKTtcbiAgICAgIGNvbnN0IGNhcnQgPSBhd2FpdCBjYXJ0c0NvbGxlY3Rpb24uZmluZE9uZSh7IHVzZXJJZDogdXNlci51c2VySWQgfSk7XG4gICAgICBcbiAgICAgIGlmICghY2FydCkge1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBjYXJ0OiB7IGl0ZW1zOiBbXSwgdG90YWw6IDAgfSB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgY2FydCB9KTtcbiAgICB9XG5cbiAgICAvLyBHZXQgdXNlcidzIG9yZGVyc1xuICAgIGlmIChwYXRoU3RyaW5nID09PSAnb3JkZXJzJykge1xuICAgICAgY29uc3QgdXNlciA9IGdldFVzZXJGcm9tUmVxdWVzdChyZXF1ZXN0KTtcbiAgICAgIGlmICghdXNlcikge1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0sIHsgc3RhdHVzOiA0MDEgfSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG9yZGVyc0NvbGxlY3Rpb24gPSBkYi5jb2xsZWN0aW9uKCdvcmRlcnMnKTtcbiAgICAgIGNvbnN0IG9yZGVycyA9IGF3YWl0IG9yZGVyc0NvbGxlY3Rpb24uZmluZCh7IHVzZXJJZDogdXNlci51c2VySWQgfSkuc29ydCh7IGNyZWF0ZWRBdDogLTEgfSkudG9BcnJheSgpO1xuICAgICAgXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBvcmRlcnMgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnUm91dGUgbm90IGZvdW5kJyB9LCB7IHN0YXR1czogNDA0IH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0dFVCBFcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdCwgeyBwYXJhbXMgfSkge1xuICB0cnkge1xuICAgIGNvbnN0IHsgZGIgfSA9IGF3YWl0IGNvbm5lY3RUb0RhdGFiYXNlKCk7XG4gICAgY29uc3QgcGF0aCA9IHBhcmFtcz8ucGF0aCB8fCBbXTtcbiAgICBjb25zdCBwYXRoU3RyaW5nID0gcGF0aC5qb2luKCcvJyk7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuXG4gICAgLy8gVXNlciByZWdpc3RyYXRpb25cbiAgICBpZiAocGF0aFN0cmluZyA9PT0gJ3JlZ2lzdGVyJykge1xuICAgICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQsIG5hbWUgfSA9IGJvZHk7XG4gICAgICBcbiAgICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkIHx8ICFuYW1lKSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0FsbCBmaWVsZHMgYXJlIHJlcXVpcmVkJyB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB1c2Vyc0NvbGxlY3Rpb24gPSBkYi5jb2xsZWN0aW9uKCd1c2VycycpO1xuICAgICAgY29uc3QgZXhpc3RpbmdVc2VyID0gYXdhaXQgdXNlcnNDb2xsZWN0aW9uLmZpbmRPbmUoeyBlbWFpbCB9KTtcbiAgICAgIFxuICAgICAgaWYgKGV4aXN0aW5nVXNlcikge1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdFbWFpbCBhbHJlYWR5IGV4aXN0cycgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgMTApO1xuICAgICAgY29uc3QgdXNlcklkID0gdXVpZHY0KCk7XG4gICAgICBcbiAgICAgIGNvbnN0IG5ld1VzZXIgPSB7XG4gICAgICAgIGlkOiB1c2VySWQsXG4gICAgICAgIGVtYWlsLFxuICAgICAgICBwYXNzd29yZDogaGFzaGVkUGFzc3dvcmQsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKVxuICAgICAgfTtcblxuICAgICAgYXdhaXQgdXNlcnNDb2xsZWN0aW9uLmluc2VydE9uZShuZXdVc2VyKTtcbiAgICAgIFxuICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbih7IHVzZXJJZCwgZW1haWwgfSwgSldUX1NFQ1JFVCwgeyBleHBpcmVzSW46ICc3ZCcgfSk7XG4gICAgICBcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IFxuICAgICAgICBzdWNjZXNzOiB0cnVlLCBcbiAgICAgICAgbWVzc2FnZTogJ1JlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsJyxcbiAgICAgICAgdG9rZW4sXG4gICAgICAgIHVzZXI6IHsgaWQ6IHVzZXJJZCwgZW1haWwsIG5hbWUgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gVXNlciBsb2dpblxuICAgIGlmIChwYXRoU3RyaW5nID09PSAnbG9naW4nKSB7XG4gICAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gYm9keTtcbiAgICAgIFxuICAgICAgaWYgKCFlbWFpbCB8fCAhcGFzc3dvcmQpIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRW1haWwgYW5kIHBhc3N3b3JkIGFyZSByZXF1aXJlZCcgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdXNlcnNDb2xsZWN0aW9uID0gZGIuY29sbGVjdGlvbigndXNlcnMnKTtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2Vyc0NvbGxlY3Rpb24uZmluZE9uZSh7IGVtYWlsIH0pO1xuICAgICAgXG4gICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnSW52YWxpZCBjcmVkZW50aWFscycgfSwgeyBzdGF0dXM6IDQwMSB9KTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgaXNQYXNzd29yZFZhbGlkID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpO1xuICAgICAgXG4gICAgICBpZiAoIWlzUGFzc3dvcmRWYWxpZCkge1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdJbnZhbGlkIGNyZWRlbnRpYWxzJyB9LCB7IHN0YXR1czogNDAxIH0pO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHsgdXNlcklkOiB1c2VyLmlkLCBlbWFpbDogdXNlci5lbWFpbCB9LCBKV1RfU0VDUkVULCB7IGV4cGlyZXNJbjogJzdkJyB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsIFxuICAgICAgICBtZXNzYWdlOiAnTG9naW4gc3VjY2Vzc2Z1bCcsXG4gICAgICAgIHRva2VuLFxuICAgICAgICB1c2VyOiB7IGlkOiB1c2VyLmlkLCBlbWFpbDogdXNlci5lbWFpbCwgbmFtZTogdXNlci5uYW1lIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEFkZCB0byBjYXJ0XG4gICAgaWYgKHBhdGhTdHJpbmcgPT09ICdjYXJ0Jykge1xuICAgICAgY29uc3QgdXNlciA9IGdldFVzZXJGcm9tUmVxdWVzdChyZXF1ZXN0KTtcbiAgICAgIGlmICghdXNlcikge1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0sIHsgc3RhdHVzOiA0MDEgfSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHsgcHJvZHVjdElkLCBxdWFudGl0eSA9IDEgfSA9IGJvZHk7XG4gICAgICBcbiAgICAgIGlmICghcHJvZHVjdElkKSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1Byb2R1Y3QgSUQgaXMgcmVxdWlyZWQnIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEdldCBwcm9kdWN0IGRldGFpbHNcbiAgICAgIGNvbnN0IHByb2R1Y3RzQ29sbGVjdGlvbiA9IGRiLmNvbGxlY3Rpb24oJ3Byb2R1Y3RzJyk7XG4gICAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgcHJvZHVjdHNDb2xsZWN0aW9uLmZpbmRPbmUoeyBpZDogcHJvZHVjdElkIH0pO1xuICAgICAgXG4gICAgICBpZiAoIXByb2R1Y3QpIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnUHJvZHVjdCBub3QgZm91bmQnIH0sIHsgc3RhdHVzOiA0MDQgfSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNhcnRzQ29sbGVjdGlvbiA9IGRiLmNvbGxlY3Rpb24oJ2NhcnRzJyk7XG4gICAgICBsZXQgY2FydCA9IGF3YWl0IGNhcnRzQ29sbGVjdGlvbi5maW5kT25lKHsgdXNlcklkOiB1c2VyLnVzZXJJZCB9KTtcblxuICAgICAgaWYgKCFjYXJ0KSB7XG4gICAgICAgIGNhcnQgPSB7XG4gICAgICAgICAgdXNlcklkOiB1c2VyLnVzZXJJZCxcbiAgICAgICAgICBpdGVtczogW10sXG4gICAgICAgICAgdG90YWw6IDAsXG4gICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGV4aXN0aW5nSXRlbUluZGV4ID0gY2FydC5pdGVtcy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnByb2R1Y3RJZCA9PT0gcHJvZHVjdElkKTtcbiAgICAgIFxuICAgICAgaWYgKGV4aXN0aW5nSXRlbUluZGV4ID4gLTEpIHtcbiAgICAgICAgY2FydC5pdGVtc1tleGlzdGluZ0l0ZW1JbmRleF0ucXVhbnRpdHkgKz0gcXVhbnRpdHk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYXJ0Lml0ZW1zLnB1c2goe1xuICAgICAgICAgIHByb2R1Y3RJZCxcbiAgICAgICAgICBuYW1lOiBwcm9kdWN0Lm5hbWUsXG4gICAgICAgICAgcHJpY2U6IHByb2R1Y3QucHJpY2UsXG4gICAgICAgICAgaW1hZ2U6IHByb2R1Y3QuaW1hZ2UsXG4gICAgICAgICAgcXVhbnRpdHlcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGNhcnQudG90YWwgPSBjYXJ0Lml0ZW1zLnJlZHVjZSgoc3VtLCBpdGVtKSA9PiBzdW0gKyAoaXRlbS5wcmljZSAqIGl0ZW0ucXVhbnRpdHkpLCAwKTtcbiAgICAgIGNhcnQudXBkYXRlZEF0ID0gbmV3IERhdGUoKTtcblxuICAgICAgYXdhaXQgY2FydHNDb2xsZWN0aW9uLnVwZGF0ZU9uZShcbiAgICAgICAgeyB1c2VySWQ6IHVzZXIudXNlcklkIH0sXG4gICAgICAgIHsgJHNldDogY2FydCB9LFxuICAgICAgICB7IHVwc2VydDogdHJ1ZSB9XG4gICAgICApO1xuXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnQWRkZWQgdG8gY2FydCcsIGNhcnQgfSk7XG4gICAgfVxuXG4gICAgLy8gUGxhY2Ugb3JkZXJcbiAgICBpZiAocGF0aFN0cmluZyA9PT0gJ29yZGVycycpIHtcbiAgICAgIGNvbnN0IHVzZXIgPSBnZXRVc2VyRnJvbVJlcXVlc3QocmVxdWVzdCk7XG4gICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnVW5hdXRob3JpemVkJyB9LCB7IHN0YXR1czogNDAxIH0pO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB7IHNoaXBwaW5nQWRkcmVzcywgcGF5bWVudE1ldGhvZCB9ID0gYm9keTtcbiAgICAgIFxuICAgICAgaWYgKCFzaGlwcGluZ0FkZHJlc3MgfHwgIXBheW1lbnRNZXRob2QpIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnU2hpcHBpbmcgYWRkcmVzcyBhbmQgcGF5bWVudCBtZXRob2QgYXJlIHJlcXVpcmVkJyB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBHZXQgY2FydFxuICAgICAgY29uc3QgY2FydHNDb2xsZWN0aW9uID0gZGIuY29sbGVjdGlvbignY2FydHMnKTtcbiAgICAgIGNvbnN0IGNhcnQgPSBhd2FpdCBjYXJ0c0NvbGxlY3Rpb24uZmluZE9uZSh7IHVzZXJJZDogdXNlci51c2VySWQgfSk7XG4gICAgICBcbiAgICAgIGlmICghY2FydCB8fCBjYXJ0Lml0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdDYXJ0IGlzIGVtcHR5JyB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgb3JkZXJcbiAgICAgIGNvbnN0IG9yZGVyc0NvbGxlY3Rpb24gPSBkYi5jb2xsZWN0aW9uKCdvcmRlcnMnKTtcbiAgICAgIGNvbnN0IG9yZGVySWQgPSB1dWlkdjQoKTtcbiAgICAgIFxuICAgICAgY29uc3Qgb3JkZXIgPSB7XG4gICAgICAgIGlkOiBvcmRlcklkLFxuICAgICAgICB1c2VySWQ6IHVzZXIudXNlcklkLFxuICAgICAgICBpdGVtczogY2FydC5pdGVtcyxcbiAgICAgICAgdG90YWw6IGNhcnQudG90YWwsXG4gICAgICAgIHNoaXBwaW5nQWRkcmVzcyxcbiAgICAgICAgcGF5bWVudE1ldGhvZCxcbiAgICAgICAgc3RhdHVzOiAncGVuZGluZycsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKVxuICAgICAgfTtcblxuICAgICAgYXdhaXQgb3JkZXJzQ29sbGVjdGlvbi5pbnNlcnRPbmUob3JkZXIpO1xuXG4gICAgICAvLyBDbGVhciBjYXJ0XG4gICAgICBhd2FpdCBjYXJ0c0NvbGxlY3Rpb24uZGVsZXRlT25lKHsgdXNlcklkOiB1c2VyLnVzZXJJZCB9KTtcblxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogJ09yZGVyIHBsYWNlZCBzdWNjZXNzZnVsbHknLCBvcmRlciB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdSb3V0ZSBub3QgZm91bmQnIH0sIHsgc3RhdHVzOiA0MDQgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignUE9TVCBFcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBVVChyZXF1ZXN0LCB7IHBhcmFtcyB9KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBkYiB9ID0gYXdhaXQgY29ubmVjdFRvRGF0YWJhc2UoKTtcbiAgICBjb25zdCBwYXRoID0gcGFyYW1zPy5wYXRoIHx8IFtdO1xuICAgIGNvbnN0IHBhdGhTdHJpbmcgPSBwYXRoLmpvaW4oJy8nKTtcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG5cbiAgICAvLyBVcGRhdGUgY2FydCBpdGVtIHF1YW50aXR5XG4gICAgaWYgKHBhdGhTdHJpbmcgPT09ICdjYXJ0Jykge1xuICAgICAgY29uc3QgdXNlciA9IGdldFVzZXJGcm9tUmVxdWVzdChyZXF1ZXN0KTtcbiAgICAgIGlmICghdXNlcikge1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0sIHsgc3RhdHVzOiA0MDEgfSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHsgcHJvZHVjdElkLCBxdWFudGl0eSB9ID0gYm9keTtcbiAgICAgIFxuICAgICAgaWYgKCFwcm9kdWN0SWQgfHwgcXVhbnRpdHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdQcm9kdWN0IElEIGFuZCBxdWFudGl0eSBhcmUgcmVxdWlyZWQnIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNhcnRzQ29sbGVjdGlvbiA9IGRiLmNvbGxlY3Rpb24oJ2NhcnRzJyk7XG4gICAgICBjb25zdCBjYXJ0ID0gYXdhaXQgY2FydHNDb2xsZWN0aW9uLmZpbmRPbmUoeyB1c2VySWQ6IHVzZXIudXNlcklkIH0pO1xuXG4gICAgICBpZiAoIWNhcnQpIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnQ2FydCBub3QgZm91bmQnIH0sIHsgc3RhdHVzOiA0MDQgfSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGl0ZW1JbmRleCA9IGNhcnQuaXRlbXMuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5wcm9kdWN0SWQgPT09IHByb2R1Y3RJZCk7XG4gICAgICBcbiAgICAgIGlmIChpdGVtSW5kZXggPT09IC0xKSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0l0ZW0gbm90IGZvdW5kIGluIGNhcnQnIH0sIHsgc3RhdHVzOiA0MDQgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChxdWFudGl0eSA8PSAwKSB7XG4gICAgICAgIGNhcnQuaXRlbXMuc3BsaWNlKGl0ZW1JbmRleCwgMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYXJ0Lml0ZW1zW2l0ZW1JbmRleF0ucXVhbnRpdHkgPSBxdWFudGl0eTtcbiAgICAgIH1cblxuICAgICAgY2FydC50b3RhbCA9IGNhcnQuaXRlbXMucmVkdWNlKChzdW0sIGl0ZW0pID0+IHN1bSArIChpdGVtLnByaWNlICogaXRlbS5xdWFudGl0eSksIDApO1xuICAgICAgY2FydC51cGRhdGVkQXQgPSBuZXcgRGF0ZSgpO1xuXG4gICAgICBhd2FpdCBjYXJ0c0NvbGxlY3Rpb24udXBkYXRlT25lKFxuICAgICAgICB7IHVzZXJJZDogdXNlci51c2VySWQgfSxcbiAgICAgICAgeyAkc2V0OiBjYXJ0IH1cbiAgICAgICk7XG5cbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IHRydWUsIG1lc3NhZ2U6ICdDYXJ0IHVwZGF0ZWQnLCBjYXJ0IH0pO1xuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1JvdXRlIG5vdCBmb3VuZCcgfSwgeyBzdGF0dXM6IDQwNCB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdQVVQgRXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBERUxFVEUocmVxdWVzdCwgeyBwYXJhbXMgfSkge1xuICB0cnkge1xuICAgIGNvbnN0IHsgZGIgfSA9IGF3YWl0IGNvbm5lY3RUb0RhdGFiYXNlKCk7XG4gICAgY29uc3QgcGF0aCA9IHBhcmFtcz8ucGF0aCB8fCBbXTtcbiAgICBjb25zdCBwYXRoU3RyaW5nID0gcGF0aC5qb2luKCcvJyk7XG5cbiAgICAvLyBSZW1vdmUgaXRlbSBmcm9tIGNhcnRcbiAgICBpZiAocGF0aFN0cmluZy5zdGFydHNXaXRoKCdjYXJ0LycpKSB7XG4gICAgICBjb25zdCB1c2VyID0gZ2V0VXNlckZyb21SZXF1ZXN0KHJlcXVlc3QpO1xuICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSwgeyBzdGF0dXM6IDQwMSB9KTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcHJvZHVjdElkID0gcGF0aFN0cmluZy5zcGxpdCgnLycpWzFdO1xuICAgICAgY29uc3QgY2FydHNDb2xsZWN0aW9uID0gZGIuY29sbGVjdGlvbignY2FydHMnKTtcbiAgICAgIGNvbnN0IGNhcnQgPSBhd2FpdCBjYXJ0c0NvbGxlY3Rpb24uZmluZE9uZSh7IHVzZXJJZDogdXNlci51c2VySWQgfSk7XG5cbiAgICAgIGlmICghY2FydCkge1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdDYXJ0IG5vdCBmb3VuZCcgfSwgeyBzdGF0dXM6IDQwNCB9KTtcbiAgICAgIH1cblxuICAgICAgY2FydC5pdGVtcyA9IGNhcnQuaXRlbXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5wcm9kdWN0SWQgIT09IHByb2R1Y3RJZCk7XG4gICAgICBjYXJ0LnRvdGFsID0gY2FydC5pdGVtcy5yZWR1Y2UoKHN1bSwgaXRlbSkgPT4gc3VtICsgKGl0ZW0ucHJpY2UgKiBpdGVtLnF1YW50aXR5KSwgMCk7XG4gICAgICBjYXJ0LnVwZGF0ZWRBdCA9IG5ldyBEYXRlKCk7XG5cbiAgICAgIGF3YWl0IGNhcnRzQ29sbGVjdGlvbi51cGRhdGVPbmUoXG4gICAgICAgIHsgdXNlcklkOiB1c2VyLnVzZXJJZCB9LFxuICAgICAgICB7ICRzZXQ6IGNhcnQgfVxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogJ0l0ZW0gcmVtb3ZlZCBmcm9tIGNhcnQnLCBjYXJ0IH0pO1xuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1JvdXRlIG5vdCBmb3VuZCcgfSwgeyBzdGF0dXM6IDQwNCB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdERUxFVEUgRXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59Il0sIm5hbWVzIjpbIk1vbmdvQ2xpZW50IiwiYmNyeXB0Iiwiand0IiwidjQiLCJ1dWlkdjQiLCJOZXh0UmVzcG9uc2UiLCJNT05HT19VUkwiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09EQl9VUkkiLCJEQl9OQU1FIiwiTU9OR09EQl9EQiIsIkpXVF9TRUNSRVQiLCJjYWNoZWRDbGllbnQiLCJjYWNoZWREYiIsImNvbm5lY3RUb0RhdGFiYXNlIiwiY2xpZW50IiwiZGIiLCJjb25uZWN0IiwidmVyaWZ5VG9rZW4iLCJ0b2tlbiIsInZlcmlmeSIsImVycm9yIiwiZ2V0VXNlckZyb21SZXF1ZXN0IiwicmVxdWVzdCIsImF1dGhIZWFkZXIiLCJoZWFkZXJzIiwiZ2V0Iiwic3RhcnRzV2l0aCIsInN1YnN0cmluZyIsImluaXRpYWxpemVEdW1teVByb2R1Y3RzIiwicHJvZHVjdHNDb2xsZWN0aW9uIiwiY29sbGVjdGlvbiIsImNvdW50IiwiY291bnREb2N1bWVudHMiLCJkdW1teVByb2R1Y3RzIiwiaWQiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJwcmljZSIsImNhdGVnb3J5IiwiaW1hZ2UiLCJzdG9jayIsInJhdGluZyIsImNyZWF0ZWRBdCIsIkRhdGUiLCJpbnNlcnRNYW55IiwiY29uc29sZSIsImxvZyIsIkdFVCIsInBhcmFtcyIsInBhdGgiLCJwYXRoU3RyaW5nIiwiam9pbiIsInByb2R1Y3RzIiwiZmluZCIsInRvQXJyYXkiLCJqc29uIiwic3VjY2VzcyIsInByb2R1Y3RJZCIsInNwbGl0IiwicHJvZHVjdCIsImZpbmRPbmUiLCJzdGF0dXMiLCJ1c2VyIiwiY2FydHNDb2xsZWN0aW9uIiwiY2FydCIsInVzZXJJZCIsIml0ZW1zIiwidG90YWwiLCJvcmRlcnNDb2xsZWN0aW9uIiwib3JkZXJzIiwic29ydCIsIm1lc3NhZ2UiLCJQT1NUIiwiYm9keSIsImVtYWlsIiwicGFzc3dvcmQiLCJ1c2Vyc0NvbGxlY3Rpb24iLCJleGlzdGluZ1VzZXIiLCJoYXNoZWRQYXNzd29yZCIsImhhc2giLCJuZXdVc2VyIiwiaW5zZXJ0T25lIiwic2lnbiIsImV4cGlyZXNJbiIsImlzUGFzc3dvcmRWYWxpZCIsImNvbXBhcmUiLCJxdWFudGl0eSIsInVwZGF0ZWRBdCIsImV4aXN0aW5nSXRlbUluZGV4IiwiZmluZEluZGV4IiwiaXRlbSIsInB1c2giLCJyZWR1Y2UiLCJzdW0iLCJ1cGRhdGVPbmUiLCIkc2V0IiwidXBzZXJ0Iiwic2hpcHBpbmdBZGRyZXNzIiwicGF5bWVudE1ldGhvZCIsImxlbmd0aCIsIm9yZGVySWQiLCJvcmRlciIsImRlbGV0ZU9uZSIsIlBVVCIsInVuZGVmaW5lZCIsIml0ZW1JbmRleCIsInNwbGljZSIsIkRFTEVURSIsImZpbHRlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/[[...path]]/route.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/semver","vendor-chunks/jsonwebtoken","vendor-chunks/uuid","vendor-chunks/jws","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/bcryptjs","vendor-chunks/safe-buffer","vendor-chunks/ms","vendor-chunks/lodash.once","vendor-chunks/lodash.isstring","vendor-chunks/lodash.isplainobject","vendor-chunks/lodash.isnumber","vendor-chunks/lodash.isinteger","vendor-chunks/lodash.isboolean","vendor-chunks/lodash.includes","vendor-chunks/jwa","vendor-chunks/buffer-equal-constant-time"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2F%5B%5B...path%5D%5D%2Froute&page=%2Fapi%2F%5B%5B...path%5D%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2F%5B%5B...path%5D%5D%2Froute.js&appDir=C%3A%5CUsers%5Cdaffa%5Cecommerce-production%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cdaffa%5Cecommerce-production&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();